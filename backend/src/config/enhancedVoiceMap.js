// Enhanced voice mapping with detailed characteristics for AI selection
// Generated from ElevenLabs API with comprehensive voice analysis

export const VOICE_DATABASE = {
  // Narrator voices - optimized for storytelling
  narrator: {
    'james_husky_engaging': {
      id: 'EkK5I93UQWFDigLMpZcX',
      name: 'James - Husky & Engaging',
      gender: 'male',
      age: 'middle_aged',
      accent: 'american',
      tone: 'deep',
      style: 'professional',
      description: 'A slightly husky and bassy voice with a standard American accent. Perfect for audiobooks, captivating narrations, or storytelling.',
      use_cases: ['narrative_story', 'audiobook', 'professional_voiceover'],
      emotions: ['neutral', 'authoritative', 'warm'],
      languages: ['en']
    },
    'rebekah_nemethy_pro_narration': {
      id: 'ESELSAYNsoxwNZeqEklA',
      name: 'Rebekah Nemethy - Pro Narration',
      gender: 'female',
      age: 'adult',
      accent: 'american',
      tone: 'clear',
      style: 'professional',
      description: 'Professional narration voice with clear articulation and engaging delivery.',
      use_cases: ['narrative_story', 'professional_voiceover', 'educational'],
      emotions: ['neutral', 'engaging', 'clear'],
      languages: ['en']
    },
    'jameson_guided_meditation_narration': {
      id: 'Mu5jxyqZOLIGltFpfalg',
      name: 'Jameson - Guided Meditation & Narration',
      gender: 'male',
      age: 'adult',
      accent: 'american',
      tone: 'calm',
      style: 'meditative',
      description: 'Calm and soothing voice perfect for meditation, relaxation, and gentle storytelling.',
      use_cases: ['meditation', 'relaxation', 'gentle_narration'],
      emotions: ['calm', 'soothing', 'peaceful'],
      languages: ['en']
    },
    'hope_soothing_narrator': {
      id: 'iCrDUkL56s3C8sCRl7wb',
      name: 'Hope - Soothing Narrator',
      gender: 'female',
      age: 'young_adult',
      accent: 'american',
      tone: 'warm',
      style: 'soothing',
      description: 'Warm and soothing voice perfect for children\'s stories and gentle narratives.',
      use_cases: ['children_stories', 'gentle_narration', 'bedtime_stories'],
      emotions: ['warm', 'gentle', 'caring'],
      languages: ['en']
    },
    'w_storytime_oxley': {
      id: 'iUqOXhMfiOIbBejNtfLR',
      name: 'W. Storytime Oxley',
      gender: 'male',
      age: 'mature',
      accent: 'british',
      tone: 'rich',
      style: 'storytelling',
      description: 'Rich, storytelling voice with British accent, perfect for classic tales and adventures.',
      use_cases: ['classic_stories', 'adventure_tales', 'dramatic_narration'],
      emotions: ['dramatic', 'engaging', 'mysterious'],
      languages: ['en']
    }
  },

  // Character voices - diverse range for different character types
  characters: {
    // Male characters
    'alex_hero': {
      id: 'ZF6FPAbjXT4488VcRRnw',
      name: 'Amelia',
      gender: 'female',
      age: 'young_adult',
      accent: 'american',
      tone: 'clear',
      style: 'energetic',
      description: 'Clear, energetic voice perfect for young heroes and adventurous characters.',
      use_cases: ['hero', 'adventure', 'youthful'],
      emotions: ['energetic', 'determined', 'optimistic'],
      languages: ['en']
    },
    'sam_sidekick': {
      id: 'Crm8VULvkVs5ZBDa1Ixm',
      name: 'Andrea Wolff - Clear, Youthful, Evenly Paced',
      gender: 'female',
      age: 'young_adult',
      accent: 'american',
      tone: 'clear',
      style: 'youthful',
      description: 'Clear, youthful voice with even pacing, perfect for sidekicks and friends.',
      use_cases: ['sidekick', 'friend', 'youthful_character'],
      emotions: ['friendly', 'loyal', 'concerned'],
      languages: ['en']
    },
    'villain_deep': {
      id: '2EiwWnXFnvU5JabPnv8n',
      name: 'Clyde',
      gender: 'male',
      age: 'mature',
      accent: 'american',
      tone: 'deep',
      style: 'authoritative',
      description: 'Deep, authoritative voice perfect for villains and intimidating characters.',
      use_cases: ['villain', 'antagonist', 'intimidating'],
      emotions: ['menacing', 'authoritative', 'dark'],
      languages: ['en']
    },
    'mentor_wise': {
      id: 'EiNlNiXeDU1pqqOPrYMO',
      name: 'John Doe - Deep',
      gender: 'male',
      age: 'mature',
      accent: 'american',
      tone: 'deep',
      style: 'wise',
      description: 'Deep, wise voice perfect for mentors and elder characters.',
      use_cases: ['mentor', 'elder', 'wise_character'],
      emotions: ['wise', 'calm', 'authoritative'],
      languages: ['en']
    },
    'oracle_mysterious': {
      id: '1hlpeD1ydbI2ow0Tt3EW',
      name: 'Oracle X',
      gender: 'neutral',
      age: 'ageless',
      accent: 'neutral',
      tone: 'mysterious',
      style: 'mystical',
      description: 'Mysterious, otherworldly voice perfect for mystical characters and oracles.',
      use_cases: ['mystical', 'oracle', 'otherworldly'],
      emotions: ['mysterious', 'enigmatic', 'powerful'],
      languages: ['en']
    },
    'young_hero': {
      id: '8JVbfL6oEdmuxKn5DK2C',
      name: 'Johnny Kid - Serious',
      gender: 'male',
      age: 'young',
      accent: 'american',
      tone: 'serious',
      style: 'determined',
      description: 'Young, serious voice perfect for determined young heroes.',
      use_cases: ['young_hero', 'determined', 'serious'],
      emotions: ['determined', 'serious', 'focused'],
      languages: ['en']
    }
  },

  // Additional character voices for variety
  additional: {
    'drew': {
      id: '29vD33N1CtxCmqQRPOHJ',
      name: 'Drew',
      gender: 'male',
      age: 'adult',
      accent: 'american',
      tone: 'casual',
      style: 'friendly',
      description: 'Casual, friendly voice perfect for everyday characters.',
      use_cases: ['casual', 'friendly', 'everyday'],
      emotions: ['friendly', 'casual', 'approachable'],
      languages: ['en']
    },
    'paul': {
      id: '5Q0t7uMcjvnagumLfvZi',
      name: 'Paul',
      gender: 'male',
      age: 'adult',
      accent: 'american',
      tone: 'warm',
      style: 'reliable',
      description: 'Warm, reliable voice perfect for trustworthy characters.',
      use_cases: ['reliable', 'trustworthy', 'warm'],
      emotions: ['warm', 'reliable', 'trustworthy'],
      languages: ['en']
    },
    'aria': {
      id: '9BWtsMINqrJLrRacOk9x',
      name: 'Aria',
      gender: 'female',
      age: 'young_adult',
      accent: 'american',
      tone: 'melodious',
      style: 'elegant',
      description: 'Melodious, elegant voice perfect for graceful characters.',
      use_cases: ['elegant', 'graceful', 'melodious'],
      emotions: ['elegant', 'graceful', 'sophisticated'],
      languages: ['en']
    },
    'domi': {
      id: 'AZnzlk1XvdvUeBnXmlld',
      name: 'Domi',
      gender: 'female',
      age: 'young_adult',
      accent: 'american',
      tone: 'energetic',
      style: 'vibrant',
      description: 'Energetic, vibrant voice perfect for lively characters.',
      use_cases: ['energetic', 'vibrant', 'lively'],
      emotions: ['energetic', 'vibrant', 'enthusiastic'],
      languages: ['en']
    },
    'dave': {
      id: 'CYw3kZ02Hs0563khs1Fj',
      name: 'Dave',
      gender: 'male',
      age: 'adult',
      accent: 'american',
      tone: 'gruff',
      style: 'tough',
      description: 'Gruff, tough voice perfect for rugged characters.',
      use_cases: ['tough', 'rugged', 'gruff'],
      emotions: ['tough', 'rugged', 'no-nonsense'],
      languages: ['en']
    },
    'roger': {
      id: 'CwhRBWXzGAHq8TQ4Fs17',
      name: 'Roger',
      gender: 'male',
      age: 'mature',
      accent: 'american',
      tone: 'distinguished',
      style: 'sophisticated',
      description: 'Distinguished, sophisticated voice perfect for refined characters.',
      use_cases: ['sophisticated', 'refined', 'distinguished'],
      emotions: ['sophisticated', 'refined', 'distinguished'],
      languages: ['en']
    }
  }
};

// Voice selection helper functions
export const selectVoiceByCharacteristics = (characteristics) => {
  const { gender, age, emotion, role, style } = characteristics;
  
  // Combine all voice databases
  const allVoices = {
    ...VOICE_DATABASE.narrator,
    ...VOICE_DATABASE.characters,
    ...VOICE_DATABASE.additional
  };
  
  // Filter voices based on characteristics
  let candidates = Object.values(allVoices);
  
  if (gender) {
    candidates = candidates.filter(voice => voice.gender === gender);
  }
  
  if (age) {
    candidates = candidates.filter(voice => voice.age === age);
  }
  
  if (emotion) {
    candidates = candidates.filter(voice => voice.emotions.includes(emotion));
  }
  
  if (style) {
    candidates = candidates.filter(voice => voice.style === style);
  }
  
  // If no candidates found, return a default
  if (candidates.length === 0) {
    return VOICE_DATABASE.narrator.james_husky_engaging;
  }
  
  // Return the first matching candidate
  return candidates[0];
};

export const selectNarratorVoice = (storyType = 'general') => {
  const narratorVoices = Object.values(VOICE_DATABASE.narrator);
  
  switch (storyType) {
    case 'children':
      return VOICE_DATABASE.narrator.hope_soothing_narrator;
    case 'adventure':
      return VOICE_DATABASE.narrator.w_storytime_oxley;
    case 'meditation':
      return VOICE_DATABASE.narrator.jameson_guided_meditation_narration;
    case 'professional':
      return VOICE_DATABASE.narrator.rebekah_nemethy_pro_narration;
    default:
      return VOICE_DATABASE.narrator.james_husky_engaging;
  }
};

export const selectCharacterVoice = (characterType, emotion = 'neutral') => {
  const characterVoices = Object.values(VOICE_DATABASE.characters);
  
  switch (characterType) {
    case 'hero':
      return emotion === 'young' ? VOICE_DATABASE.characters.young_hero : VOICE_DATABASE.characters.alex_hero;
    case 'sidekick':
      return VOICE_DATABASE.characters.sam_sidekick;
    case 'villain':
      return VOICE_DATABASE.characters.villain_deep;
    case 'mentor':
      return VOICE_DATABASE.characters.mentor_wise;
    case 'mystical':
      return VOICE_DATABASE.characters.oracle_mysterious;
    default:
      return VOICE_DATABASE.characters.alex_hero;
  }
};

// Legacy compatibility
export const resolveVoiceId = (nameOrId, category = 'narrator') => {
  if (!nameOrId) {
    return VOICE_DATABASE.narrator.james_husky_engaging.id;
  }

  // If it's already an ID, return as-is
  if (typeof nameOrId === 'string' && nameOrId.length >= 12 && !/\s/.test(nameOrId)) {
    return nameOrId;
  }

  // Try to find in the enhanced database
  const allVoices = {
    ...VOICE_DATABASE.narrator,
    ...VOICE_DATABASE.characters,
    ...VOICE_DATABASE.additional
  };
  
  const normalizedKey = String(nameOrId).toLowerCase().trim().replace(/\s+/g, '_');
  
  // Try exact match
  if (allVoices[normalizedKey]) {
    return allVoices[normalizedKey].id;
  }
  
  // Try partial match
  const partialKey = normalizedKey.replace(/[^a-z0-9_]/g, '_').replace(/_+/g, '_');
  if (allVoices[partialKey]) {
    return allVoices[partialKey].id;
  }
  
  // Try to find by name
  const voiceByName = Object.values(allVoices).find(voice => 
    voice.name.toLowerCase().includes(normalizedKey) || 
    normalizedKey.includes(voice.name.toLowerCase().split(' ')[0])
  );
  
  if (voiceByName) {
    return voiceByName.id;
  }
  
  // Default fallback
  return VOICE_DATABASE.narrator.james_husky_engaging.id;
};

export default {
  VOICE_DATABASE,
  selectVoiceByCharacteristics,
  selectNarratorVoice,
  selectCharacterVoice,
  resolveVoiceId
};

